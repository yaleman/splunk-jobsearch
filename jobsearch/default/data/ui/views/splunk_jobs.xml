<form>
  <label>Splunk Jobs</label>
  <fieldset submitButton="true" autoRun="true">
    <input type="time" token="timeframe" searchWhenChanged="true">
      <label>Timeframe</label>
      <default>
        <earliest>-24h@h</earliest>
        <latest>now</latest>
      </default>
    </input>
    <input type="multiselect" token="region" searchWhenChanged="true">
      <label>Region</label>
      <valuePrefix>region="</valuePrefix>
      <valueSuffix>"</valueSuffix>
      <delimiter> OR </delimiter>
      <fieldForLabel>region</fieldForLabel>
      <fieldForValue>region</fieldForValue>
      <search>
        <query>source="jobsearch" 
|  spath region
|  dedup region
| sort region</query>
        <earliest>-24h@h</earliest>
        <latest>now</latest>
      </search>
      <choice value="*">All</choice>
      <default>*</default>
      <initialValue>*</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <table>
        <search>
          <query>source="jobsearch" 
| spath region output=region 
| search $region$ 
| spath jobTitle output=Title 
| spath locations output=locations 
| rename "locations{}" as Locations 
| dedup region, Title, Locations 
| table region, Locations, Title 
| sort region, Locations, Title</query>
          <earliest>$timeframe.earliest$</earliest>
          <latest>$timeframe.latest$</latest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="count">20</option>
        <option name="dataOverlayMode">none</option>
        <option name="drilldown">none</option>
        <option name="percentagesRow">false</option>
        <option name="refresh.display">progressbar</option>
        <option name="rowNumbers">false</option>
        <option name="totalsRow">false</option>
        <option name="wrap">true</option>
      </table>
    </panel>
  </row>
</form>